<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>The Modern Web</title>

		<link rel="stylesheet" href="../dist/reveal.css">
		<link rel="stylesheet" href="../dist/theme/white.css" id="theme">
		<link rel="stylesheet" href="./style.css" id="theme">

        <link rel="stylesheet" href="../plugin/highlight/monokai.css">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous">

    </head>

	<body>
		<div class="reveal">
			<div class="slides">
                <section>
                    <section data-background="#333333">
                        <h2>TWeb</h2>
                        <h1>The Modern Web</h1>
                        <p>Bertil Chapuis</p>
                    </section>
                    <section data-markdown>
                        <textarea data-template>
                            ## <i class="fas fa-tasks"></i> Overview of Today's Class
                            - Quiz
                            - Programming exercise
                            - Representational state transfer
                            - Progressive Web Applications
                        </textarea>
                    </section>
                </section>

                <section>
                    <section data-background="#333333">
                        <h2><i class="fas fa-question-circle"></i> Quiz</h2>
                    </section>
                    <section data-markdown style="font-size: 0.65em;">
                        <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 1

                            Que se passe-t-il dans le navigateur lorsqu'une requête `Fetch` effectuée depuis l'origine `http://domain-a.com` sur l'origine `http://domain-b.com` resulte en la réponse HTTP suivante:
                            
                            ```http
                            HTTP/1.1 200 OK
                            Access-Control-Allow-Origin: http://domain-b.com
                            ```
                            
                            - A) Le navigateur peut accèder au contenu de la réponse
                            - B) Le serveur stoppe l'envoi de la réponse
                            - C) Le navigateur envoie une requête preflight au serveur
                            - D) Le navigateur envoie une requête au serveur en spécifiant `Access-Control-Allow-Origin: *`
                            - E) Le navigateur ne peut pas accèder au contenu de la réponse

                        </textarea>
                    </section>
                    <section data-markdown style="font-size: 0.65em;">
                        <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 2

                            Le stagiaire propose la pull request suivante. 
                            Elle ne casse pas les builds et passe tous les tests unitaires.
                            Que faite vous?
                            
                            ```js
                            app.get('/directory', function (req, res) {
                              var query = req.query.query;
                              var names = database.query(`SELECT name FROM person WHERE name LIKE '%${query}%'`);
                              res.send(`<h1>${query}</h1>` + names.map(name => `<p>${name}</p>`).join(""));
                            });
                            ```

                        </textarea>
                    </section>
                    <section data-markdown style="font-size: 0.65em;">
                        <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 3

                            Cochez les affirmations correctes à propos des attaques XSS:
                            - A) XSS implique l'injection d'un script sur le site visé
                            - B) XSS implique un site tiers qui exécute une requête sur le site visé
                            - C) XSS implique l'envoi d'emails aux utilisateur visés
                            - D) On se protège de XSS en ajoutant des tokens dans les pages web
                            - E) On se protège de XSS en configurant correctement CSP
                            - F) On se protège de XSS en sanitizant les données utilisateur
                        </textarea>
                    </section>
                    <section data-markdown style="font-size: 0.65em;">
                        <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 4

                            Cochez les affirmations correctes à propos des autorités de certifications:
                            - A) A chaque démarrage le navigateur met à jour la liste des certificats CA
                            - B) Un certificat CA est valide tant que la clé privée du site Internet n'est pas compromise
                            - C) Une liste de certificats CA est gérée par les systèmes d'exploitation, navigateurs, etc.
                            - D) Un certificat self-signed peut-être utilisé pour prouver la propriété d'un nom de domaine
                            - E) Un certificat self-signed peut-être utilisé pour encrypter des communications
                        </textarea>
                    </section>
                </section>

                <section>
                    <section data-background="#333333">
                        <h2><i class="fas fa-question-circle"></i> Programming exercise</h2>
                    </section>
                    <section data-markdown style="font-size: 0.6em;">
                        <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Programming exercise

                            Ecriver un programme qui, étant donné les titres de livres suivants, crée un index inversé.

                            ```js
                            let stopwords = ["the", "and", "a", "in"]
                            let books = ["Fantastic Mr Fox", " The Fox and the Star", "The Fox and the Hound", "Fox in Socks", "Maybe a Fox"];
                            
                            // create an inverted index,
                            let index = books.map(...).flatMap(...).reduce(...);
                            
                            // such that:
                            index["fox"] // = [0, 1, 2, 3, 4]
                            index["fantastic"] // = [0]
                            index["the"] // = undefined
                            ```

                            <img src="images/inverted-index.jpeg">

                        </textarea>
                    </section>
                </section>
    
                

                <section>
                    <section data-background="#333333" style="font-size: 0.8em;">
                        <h2><i class="fas fa-network-wired"></i> Progressive Web Applications (PWA)</h2>
                    </section>
                    <section data-markdown style="font-size: 0.7em;">
                        <textarea data-template>
                            ## <i class="fa fa-mobile-alt"></i> Progressive Web Applications (PWA)

                            A PWA is a web application built using common web technologies including HTML, CSS and JavaScript. 
                            
                            It is intended to work on any platform that uses a standards-compliant browser. 
                            
                            Functionalities include:
                            - native applications like user experience([Web App Manifest](https://developer.mozilla.org/en-US/docs/Web/Manifest))
                            - working offline ([Service Worker](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API))
                            - push notifications ([Push API](https://developer.mozilla.org/en-US/docs/Web/API/Push_API))
                            - device hardware access ([Camera](https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Image_Capture_API), [GPS](https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API), [Bluetooth](https://developer.mozilla.org/en-US/docs/Web/API/Web_Bluetooth_API), etc.)
                            
                            
                            Since progressive web apps are a type of webpage, there is no need for an <i class="fab fa-app-store-ios"></i> App Store.
                            
                            https://en.wikipedia.org/wiki/Progressive_web_application
                        </textarea>
                    </section>
                    <section data-markdown style="font-size: 0.65em;">
                        <textarea data-template>
                            ## <i class="fa fa-mobile-alt"></i>  Web App Manifest

                            Everything starts with the inclusion of a [Web App Manifest](https://developer.mozilla.org/en-US/docs/Web/Manifest) int the head of a webpage.
                            
                            ```html
                            <link rel="manifest" href="/manifest.json">
                            ```
                            
                            ```json
                            {
                                "name": "Simple PWA",
                                "short_name": "Simple PWA",
                                "icons": [
                                    {
                                        "src": "icons/icon-32.png",
                                        "sizes": "32x32",
                                        "type": "image/png"
                                    }
                                ],
                                "start_url": "/index.html",
                                "display": "fullscreen",
                                "theme_color": "#B12A34",
                                "background_color": "#B12A34"
                            }
                            ```
                            
                            The Web Application can then easily be added to the home screen of any mobile phones.
                            
                            https://developer.mozilla.org/en-US/docs/Web/Manifest
                        </textarea>
                    </section>
                    <section data-markdown style="font-size: 0.8em;">
                        <textarea data-template>
                            ## <i class="fa fa-mobile-alt"></i> Web vs Native Applications

                            In the wild, PWAs are common and known as a way to improve user engagement.

                            - [Pinterest](https://medium.com/dev-channel/a-pinterest-progressive-web-app-performance-case-study-3bd6ed2e6154)

                            - [Tinder](https://medium.com/@addyosmani/a-tinder-progressive-web-app-performance-case-study-78919d98ece0)

                            - [Spotify](https://open.spotify.com/)

                            - [The Washington Post](https://www.washingtonpost.com/pr/wp/2016/09/06/the-washington-post-to-roll-out-fastest-mobile-news-site/)

                            PWAs have limitations and intermediary solutions are becoming increasingly ([ReactNative](https://facebook.github.io/react-native/), [Flutter](https://flutter.dev/)). 
                        </textarea>
                    </section>

                    <section data-markdown style="font-size: 0.8em;">
                        <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Questions
                        </textarea>
                    </section>
                </section>

            </div>
		</div>

		<script src="../dist/reveal.js"></script>
        <script src="../plugin/markdown/markdown.js"></script>
        <script src="../plugin/highlight/highlight.js"></script>
        <script src="../plugin/notes/notes.js"></script>

		<script>

			Reveal.initialize({
                  // The "normal" size of the presentation, aspect ratio will
                // be preserved when the presentation is scaled to fit different
                // resolutions. Can be specified using percentage units.
                width: 1200,
                height: 700,

                // Factor of the display size that should remain empty around
                // the content
                margin: 0.1,

                // Bounds for smallest/largest possible scale to apply to content
                minScale: 0.2,
                maxScale: 2.0,
				controls: true,
				progress: true,
				history: true,
				center: true,
                slideNumber: true,
                showSlideNumber: 'print',
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
            });

		</script>

	</body>
</html>
